<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Existing head content remains the same until the scripts -->
    
    <!-- Move scripts to the end of body -->
    <script>
        // Add error handling for scripts
        window.onerror = function(message, source, lineno, colno, error) {
            console.error("Error:", message, "at", source, "line", lineno);
            return true; // Prevent default error handling
        };
    </script>
</head>
<body>
    <div id="q-app">
        <div class="q-loading" style="font-size: 30px">
            <div class="q-loading-spinner"></div>
        </div>
    </div>

    <!-- Load Vue first -->
    <script src="/vite/js/vue.global.prod.js"></script>
    <script src="/vite/js/vue-router.global.prod.js"></script>
    <script src="/vite/js/quasar.umd.prod.js"></script>
    <script src="/vite/js/axios.min.js"></script>
    
    <!-- Load other scripts -->
    <script src="/vite/js/QCalendarMonth.umd.min.js"></script>
    <script src="/vite/js/Timestamp.umd.min.js"></script>
    
    <!-- Load language files -->
    <script src="/vite/js/en-US.umd.prod.js"></script>
    <script src="/vite/js/fr.umd.prod.js"></script>
    <script src="/vite/js/ar.umd.prod.js"></script>
    
    <!-- Load app scripts -->
    <script src="/vite/js/store.js"></script>
    <script src="/vite/src/layouts/MainLayout.js"></script>
    <script src="/vite/src/pages/PageEntries.js"></script>
    <script src="/vite/src/pages/PageSettings.js"></script>
    
    <!-- Initialize Quasar and main app -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const { createApp } = Vue;
            const { createRouter, createWebHashHistory } = VueRouter;
            const { Quasar } = Quasar;
            
            // Initialize Quasar
            const app = createApp({});
            
            app.use(Quasar, {
                config: {
                    brand: {
                        primary: '#1976D2',
                        secondary: '#26A69A',
                        accent: '#9C27B0',
                        dark: '#1D1D1D',
                        positive: '#21BA45',
                        negative: '#C10015',
                        info: '#31CCEC',
                        warning: '#F2C037'
                    }
                }
            });
            
            // Now initialize the rest of your app
            import('/vite/main.js').catch(err => {
                console.error('Failed to load main.js:', err);
            });
            
            // Initialize app.js
            import('/vite/js/app.js').then(module => {
                if (module && module.APP) {
                    window.APP = module.APP;
                    window.APP.init();
                }
            }).catch(err => {
                console.error('Failed to load app.js:', err);
            });
        });
    </script>
</body>
</html>