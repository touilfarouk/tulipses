<template>
  <div class="relative mt-1" :class="content.wrapper_class">
    <label :for="input_data.name" class="block text-purple-800 text-sm">
      {{ content.label }} <span v-if="content.required" class="text-red-600 text-lg font-bold">*</span>
    </label>
    <input v-model="content.value"
      :type="content.type"
      :name="content.name"
      :id="content.name"
      :placeholder="content.placeholder"
      :maxlength="content.maxlength"
      :minlength="content.minlength"
      :disabled="content.disabled"
      :readonly="content.readonly"
      :required="content.required"
      :autocomplete="content.autocomplete"
      :autofocus="content.autofocus"
      :step="content.step"
      :min="content.min"
      :max="content.max"
      class="w-full px-2.5 py-1 mt-1 text-sm border focus:outline-none bg-white"
      :class="content.error ? 'border-red-500' : 'border-neutral-200'">
    <span v-cloak v-if="content.error" class="text-red-600 text-xs absolute -bottom-4 right-0">{{ content.error_message }}</span>
  </div>
</template>

<script>
import { ref, watch } from 'vue';

export const ed_input = {
  props: ['input_data'],
  emits: ['update_input_data'],
  setup(props, ctx) {
    const content = ref(props.input_data);

    watch(
      () => content.value.value, // Watch the specific key within the object
      (newValue, oldValue) => {
        // Compare the new and old values
        if (newValue != oldValue) {
          delete content.value.error;
          delete content.value.error_message;
          ctx.emit('update_input_data', newValue);
        }
      }
    );

    return {
      content
    };
  }
};
</script>







console.log('Registering FormEntries component');

// FormEntries component
const FormEntries = {
  template: `
    <q-page>
      <div class="q-pa-md">
        <!-- Mobile-friendly card layout with slide actions -->
        <div class="row q-col-gutter-md">
          <div class="col-12">
            <q-card flat bordered class="shadow-2">
              <q-card-section>
                <div class="text-h6 q-mb-md">FormEntries</div>

          </q-card-actions>
        </q-card>
      </q-dialog>
    </q-page>
  `,




};

// Export to global scope
if (typeof window !== 'undefined') {
  window.FormEntries = FormEntries;
  console.log('FormEntries registered to window.FormEntries');
}

---------------------------------------QStepper ---------------------------------------

<div id="q-app">
   <div class="q-pa-md" style="max-width: 600px">
      <h5>QStepper inside QStepper {{$q.version}}</h5>
      <h6>The "contracted" property affects both</h6>
      <div class="row">
         <q-btn label="Contracted" color="primary" @click="contracted = !contracted" />
      </div>
      <q-stepper v-model="step" color="primary" animated class="full-width" :contracted="contracted">
         <q-step :name="1" title="A">
            <q-card>
               <q-card-section>
                  Text AAAA
               </q-card-section>
               <q-card-section>
                  <q-stepper v-model="step_inside" vertical color="primary" animated class="full-width bg-body" flat header-nav :contracted="false">
                     <q-step :name="1" title="Step One" icon="mdi-account">
                        Text Step One Inside
                     </q-step>
                     <q-step :name="2" title="Step Two" icon="mdi-account">
                        Text Step Two Inside
                     </q-step>
                     <q-step :name="3" title="Step Three" icon="mdi-account">
                        Text Step Three Inside
                     </q-step>
                  </q-stepper>
               </q-card-section>
            </q-card>
            <q-stepper-navigation>
               <q-btn @click="step = 2" color="primary" label="Next" />
            </q-stepper-navigation>
         </q-step>
         <q-step :name="2" title="B">
            <q-card>
               <q-card-section>
                  Text BBBB
               </q-card-section>
            </q-card>
            <q-stepper-navigation>
               <q-btn @click="step = 3" color="primary" label="Next" />
               <q-btn @click="step = 1" color="primary" label="Back" />
            </q-stepper-navigation>
         </q-step>
         <q-step :name="3" title="C">
            <q-card>
               <q-card-section>
                  Text CCCC
               </q-card-section>
            </q-card>
            <q-stepper-navigation>
               <q-btn @click="step = 2" color="primary" label="Back" />
            </q-stepper-navigation>
         </q-step>
      </q-stepper>
   </div>
